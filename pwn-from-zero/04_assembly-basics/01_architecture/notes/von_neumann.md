# 폰 노이만 구조와 메모리 요약 정리

## 컴퓨터 구조 이해

### 폰 노이만 아키텍처 (Von Neumann Architecture)

- 오늘날 대부분의 컴퓨터(PC, 서버, 스마트폰 등)는 "폰 노이만 아키텍처"를 기반으로 설계되어 있음
- 1945년 폰 노이만이 개발했고, 앨런 튜링이 제안한 "범용 컴퓨터" 개념을 실현하기 위한 구조임
- 튜링은 찰스 배비지의 19세기 "프로그래머블 컴퓨터" 개념에서 영향을 받음

### 구성 요소
- **CPU (중앙 처리 장치)**
  - **CU (제어 장치)**: 명령어 해석 및 제어 흐름 담당
  - **ALU (산술 논리 장치)**: 덧셈, 뺄셈 등 연산 수행
  - **Registers (레지스터)**: 초고속 임시 저장소
- **Memory (메모리)**: Cache, RAM 등으로 구성됨
- **I/O 장치**: 키보드, 디스플레이, 저장장치 등
- **Mass Storage (대용량 저장소)**: HDD, SSD 등 비휘발성 장치

### 왜 중요한가?
- 오늘날 대부분의 시스템은 이 구조에 기반
- 어셈블리는 CPU, 메모리와 직접 상호작용하므로 구조 이해가 필수
- 스택 오버플로우, ROP, 힙 익스플로잇 등 해킹 기술과도 밀접하게 연관됨

---

## 다이어그램으로 보는 구조

### Von Neumann Architecture

![Von Neumann Architecture](../images/von_neumann_arch.jpg)

- CPU는 Cache, RAM과 같은 메모리 장치와 I/O 장치를 공유된 버스를 통해 연결함
- 내부적으로 CU, ALU, 레지스터로 구성되어 명령어 처리 수행

### 메모리 구조 (Memory Layout)

![Memory Structure](../images/memory_structure.jpg)

- 프로그램 실행 시 메모리는 텍스트, 데이터, 힙, 스택 순으로 분할됨
- Stack은 위에서 아래, Heap은 아래에서 위로 성장함 (주소 기준)

---

## 메모리 구조 설명 (RAM, Cache)

### Cache (캐시 메모리)
- CPU에 매우 근접하여 빠름 (속도 최우선)
- 보통 3단계로 나뉨:

| 수준 | 설명 |
|------|------|
| L1 Cache | 각 코어에 탑재, 가장 빠르며 용량은 작음 (KB) |
| L2 Cache | 모든 코어 간 공유, 매우 빠름 (MB) |
| L3 Cache | 상대적으로 느리지만 RAM보다 빠름 (MB) |

### RAM (주기억장치)
- 용량 큼 (GB ~ TB)
- CPU와 물리적으로 멀어 상대적으로 느림
- 예: 레지스터는 1 사이클, L1은 수 사이클, RAM은 수백 사이클 소요됨

### 메모리 주소 범위
- 32비트 시스템: 0x00000000 ~ 0xffffffff (최대 4GB)
- 64비트 시스템: 0xffffffffffffffff (최대 이론상 약 18.5 엑사바이트)

---

## RAM 세그먼트 구성

| 세그먼트 | 설명 |
|----------|------|
| Stack | LIFO 구조, 함수 호출 및 지역 변수 저장 |
| Heap | 동적 메모리 할당 (malloc 등) |
| Data | 초기화된 전역변수, 정적 변수 저장 영역 |
| Text | 실행 가능한 명령어 (어셈블리 코드) 저장 영역 |

※ 각 애플리케이션은 독립적인 가상 메모리 공간을 가짐 (Stack, Heap 등 분리됨)

---

## 입출력 & 저장 장치

### I/O 장치
- 키보드, 디스플레이, 저장장치(HDD, SSD 등)
- **Bus 인터페이스**로 CPU와 연결되어 데이터 송수신
- 버스는 병렬 데이터 통신 경로 (4~128비트)

### 저장소 구분
- **Primary Memory (RAM 등)**: 휘발성, 속도 빠름
- **Secondary Storage (HDD/SSD 등)**: 비휘발성, 용량 큼, 속도 느림

### 최근 추세
- HDD → SSD로 전환 중
- SSD는 전원을 꺼도 데이터 유지 가능하며 구조상 RAM과 유사

---

## 속도 및 용량 비교

| 구성 요소 | 속도 | 용량 |
|------------|------|------|
| Registers | 가장 빠름 | Bytes |
| L1 Cache | 매우 빠름 | Kilobytes |
| L2 Cache | 빠름 | Megabytes |
| L3 Cache | 중간 | Megabytes |
| RAM | 느림 | Gigabytes ~ Terabytes |
| Storage | 가장 느림 | Terabytes 이상 |

- CPU에서 멀수록 느려지고, 용량이 클수록 느림




